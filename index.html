<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MediTech - Découvrez les technologies médicales avancées pour toutes les spécialités médicales.">
    <meta name="keywords" content="technologies médicales, équipements médicaux, santé, diagnostic, thérapie">
    <meta name="author" content="MediTech">
    <meta property="og:title" content="MediTech - Votre Guide Biomédical">
    <meta property="og:description" content="Découvrez notre écosystème complet de technologies médicales de pointe.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://via.placeholder.com/1200x630?text=MediTech">
    <meta name="theme-color" content="#667eea">
    <link rel="icon" href="https://via.placeholder.com/32x32?text=MT" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" as="style" onload="this.rel='stylesheet'">
    <title>MediTech - Votre Guide Biomédical</title>
    <style>
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --text-dark: #2d3748;
            --text-gray: #718096;
            --background-light: #f7fafc;
            --border-light: #e2e8f0;
            --white: #ffffff;
            --shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --primary-color: #a3bffa;
            --secondary-color: #b794f4;
            --text-dark: #e2e8f0;
            --text-gray: #a0aec0;
            --background-light: #2d3748;
            --border-light: #4a5568;
            --white: #1a202c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--text-dark);
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 15px;
            min-height: 100vh;
            position: relative;
        }

        .header {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            padding: 20px 25px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo-text {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--text-dark);
        }

        .search-container {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-grow: 1;
            max-width: 600px;
        }

        .search-box {
            background: var(--background-light);
            border: 2px solid var(--border-light);
            padding: 12px 20px;
            border-radius: 12px;
            width: 100%;
            font-size: 14px;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .view-toggle {
            display: flex;
            background: var(--background-light);
            border-radius: 12px;
            padding: 4px;
            border: 2px solid var(--border-light);
        }

        .view-btn {
            background: none;
            border: none;
            color: var(--text-gray);
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
        }

        .view-btn.active {
            background: var(--primary-color);
            color: var(--white);
        }

        .theme-toggle {
            background: var(--background-light);
            border: 2px solid var(--border-light);
            padding: 8px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .nav-breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            font-size: 14px;
            color: var(--text-gray);
        }

        .nav-breadcrumb button {
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-breadcrumb button:hover {
            color: var(--secondary-color);
        }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 25px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-height: 600px;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .content-section:not(.hidden) {
            animation: slideInUp 0.6s ease-out;
            opacity: 1;
            transform: translateY(0);
        }

        .content-section.hidden {
            display: none;
            opacity: 0;
            transform: translateY(20px);
        }

        .page-title {
            font-size: 3rem;
            color: var(--text-dark);
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 50px;
        }

        .hero-section h2 {
            font-size: 2rem;
            color: var(--text-gray);
            margin-bottom: 25px;
            font-weight: 500;
        }

        .hero-section p {
            font-size: 1.2rem;
            color: var(--text-gray);
            margin-bottom: 35px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 18px 35px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .services-grid, .devices-grid {
            display: grid;
            gap: 30px;
            margin-top: 40px;
        }

        .services-grid {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .devices-grid {
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        }

        .list-view .services-grid,
        .list-view .devices-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .service-card, .device-card {
            background: var(--white);
            padding: 35px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border: 1px solid var(--border-light);
            position: relative;
            overflow: hidden;
        }

        .service-card:hover, .device-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(102, 126, 234, 0.15);
            border-color: var(--primary-color);
        }

        .service-card::before, .device-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.05), transparent);
            transition: all 0.6s ease;
        }

        .service-card:hover::before, .device-card:hover::before {
            left: 100%;
        }

        .card-icon {
            font-size: 3.5rem;
            margin-bottom: 25px;
            text-align: center;
            color: var(--primary-color);
        }

        .card-image, .device-image {
            width: 100%;
            height: 150px;
            background: var(--background-light);
            border-radius: 10px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--text-gray);
            border: 2px solid var(--border-light);
            object-fit: cover;
        }

        .device-image {
            height: 250px;
            max-width: 400px;
            margin: 30px auto;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 20px;
        }

        .card-description {
            color: var(--text-gray);
            line-height: 1.7;
            font-size: 1rem;
        }

        .list-view .service-card,
        .list-view .device-card {
            display: flex;
            align-items: center;
            gap: 30px;
            padding: 25px;
        }

        .list-view .card-icon {
            font-size: 2.5rem;
            margin-bottom: 0;
            flex-shrink: 0;
        }

        .list-view .card-image {
            width: 100px;
            height: 100px;
            margin-bottom: 0;
        }

        .list-view .card-content {
            flex: 1;
        }

        .list-view .card-title {
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .favorite-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-gray);
            transition: color 0.3s ease;
        }

        .favorite-btn.favorited {
            color: #e53e3e;
        }

        .device-details, .brand-details {
            max-width: 1000px;
            margin: 0 auto;
            color: var(--text-dark);
        }

        .device-info {
            background: var(--background-light);
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            border: 2px solid var(--border-light);
        }

        .device-info h3 {
            color: var(--text-dark);
            margin-bottom: 20px;
            font-size: 1.4rem;
            font-weight: 600;
        }

        .device-info p, .device-info ul {
            color: var(--text-gray);
            line-height: 1.8;
        }

        .back-btn {
            background: var(--background-light);
            color: var(--text-gray);
            padding: 12px 25px;
            border: 2px solid var(--border-light);
            border-radius: 12px;
            cursor: pointer;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
        }

        .back-btn:hover {
            background: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
            transform: translateX(-5px);
        }

        .brands-section {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 25px 0;
        }

        .brand-link {
            background: var(--primary-color);
            color: var(--white);
            padding: 10px 20px;
            border-radius: 10px;
            text-decoration: none;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .brand-link:hover {
            background: var(--secondary-color);
            transform: translateY(-3px);
        }

        .sort-section {
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .sort-select {
            background: var(--background-light);
            border: 2px solid var(--border-light);
            padding: 10px;
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            color: var(--text-dark);
        }

        .sort-select:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .footer {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            padding: 20px;
            border-radius: 20px;
            margin-top: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: sticky;
            bottom: 0;
            z-index: 100;
        }

        .footer a {
            color: var(--primary-color);
            text-decoration: none;
            margin: 0 10px;
        }

        .footer a:hover {
            color: var(--secondary-color);
        }

        .back-to-top {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: var(--primary-color);
            color: var(--white);
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            display: none;
            z-index: 150;
            font-family: 'Poppins', sans-serif;
        }

        .back-to-top:hover {
            background: var(--secondary-color);
        }

        .chatbot-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #48bb78;
            color: var(--white);
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 150;
            font-size: 1.5rem;
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3);
            transition: all 0.3s ease;
        }

        .chatbot-toggle:hover {
            background: #68d391;
            transform: scale(1.1);
        }

        .chatbot-container {
            display: none;
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 350px;
            max-height: 500px;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 200;
            overflow: hidden;
        }

        .chatbot-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 15px;
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-close {
            cursor: pointer;
            font-size: 1.5rem;
        }

        .chatbot-body {
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
        }

        .chat-message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .chat-message.user {
            align-items: flex-end;
        }

        .chat-message.bot {
            align-items: flex-start;
        }

        .chat-message p {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.9rem;
        }

        .chat-message.user p {
            background: var(--primary-color);
            color: var(--white);
        }

        .chat-message.bot p {
            background: var(--background-light);
            color: var(--text-dark);
            border: 1px solid var(--border-light);
        }

        .chat-message.loading p {
            background: var(--background-light);
            color: var(--text-gray);
            animation: pulse 1.5s infinite;
        }

        .chatbot-input {
            display: flex;
            padding: 10px;
            background: var(--background-light);
            border-top: 1px solid var(--border-light);
        }

        .chatbot-input input {
            flex: 1;
            padding: 10px;
            border: 2px solid var(--border-light);
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            color: var(--text-dark);
        }

        .chatbot-input input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .chatbot-input button {
            background: #48bb78;
            color: var(--white);
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            margin-left: 10px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
        }

        .chatbot-input button:hover {
            background: #68d391;
        }

        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .stat-card {
            background: var(--white);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid var(--border-light);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .stat-label {
            color: var(--text-gray);
            font-size: 1rem;
        }

        .image-error {
            background: var(--background-light);
            color: var(--text-gray);
            text-align: center;
            padding: 10px;
            border-radius: 10px;
            font-size: 0.9rem;
        }

        .brand-actions {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }

        .loading-spinner {
            border: 4px solid var(--border-light);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 10px auto;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .content-section {
                padding: 25px;
            }

            .page-title {
                font-size: 2rem;
            }

            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            .search-box {
                width: 100%;
            }

            .list-view .service-card,
            .list-view .device-card {
                flex-direction: column;
                text-align: center;
            }

            .sort-section {
                flex-direction: column;
            }

            .brand-actions {
                flex-direction: column;
            }

            .chatbot-container {
                width: 90%;
                bottom: 70px;
            }
        }

        @media (prefers-contrast: high) {
            :root {
                --primary-color: #003087;
                --secondary-color: #6200ea;
                --text-dark: #000000;
                --text-gray: #333333;
                --background-light: #ffffff;
                --border-light: #000000;
                --white: #ffffff;
            }
        }
    </style>
</head>
<body>
    <div class="container" role="main">
        <header class="header" role="banner">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon" aria-label="MediTech Logo">🏥</div>
                    <div class="logo-text">MediTech</div>
                </div>
                <div class="search-container">
                    <input type="text" class="search-box" placeholder="Rechercher des dispositifs médicaux..." id="searchBox" aria-label="Recherche de dispositifs médicaux">
                    <div class="view-toggle" role="group" aria-label="Sélection de la vue">
                        <button class="view-btn active" id="gridBtn" aria-label="Vue en grille">⚏</button>
                        <button class="view-btn" id="listBtn" aria-label="Vue en liste">☰</button>
                    </div>
                    <button class="theme-toggle" id="themeToggle" aria-label="Basculer le mode sombre">🌙</button>
                </div>
            </div>
            <nav class="nav-breadcrumb" id="breadcrumb" aria-label="Fil d'ariane"></nav>
        </header>

        <main>
            <section id="home-page" class="content-section" role="region" aria-label="Page d'accueil">
                <h1 class="page-title">Technologies Médicales Avancées</h1>
                <div class="hero-section">
                    <h2>L'Innovation au Service de la Médecine</h2>
                    <p>Découvrez notre écosystème complet de technologies médicales de pointe. Des équipements diagnostiques aux systèmes thérapeutiques les plus avancés, nous proposons des solutions innovantes pour tous les secteurs de la médecine moderne.</p>
                    <button class="btn-primary" id="exploreServicesBtn" aria-label="Explorer les services">Explorer nos Services</button>
                </div>

                <div class="stats-section">
                    <div class="stat-card">
                        <div class="stat-number" id="deviceCount"></div>
                        <div class="stat-label">Dispositifs</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">25+</div>
                        <div class="stat-label">Marques</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">6</div>
                        <div class="stat-label">Spécialités</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">98%</div>
                        <div class="stat-label">Satisfaction</div>
                    </div>
                </div>
            </section>

            <section id="services-page" class="content-section hidden" role="region" aria-label="Spécialités médicales">
                <button class="back-btn" id="homeBackBtn" aria-label="Retour à l'accueil">← Retour à l'accueil</button>
                <h1 class="page-title">Spécialités Médicales</h1>
                <div class="services-grid" id="servicesGrid">
                    <div class="service-card" data-service="pediatrie">
                        <div class="card-icon" aria-hidden="true">👶</div>
                        <div class="card-content">
                            <h3 class="card-title">Pédiatrie</h3>
                            <p class="card-description">Équipements spécialisés pour le diagnostic et le traitement des enfants et nourrissons. Technologies adaptées aux besoins spécifiques de la médecine pédiatrique.</p>
                            <ul style="margin-top: 15px; color: var(--text-gray);">
                                <li>Échographes pédiatriques</li>
                                <li>Moniteurs néonataux</li>
                                <li>Ventilateurs adaptés</li>
                            </ul>
                        </div>
                    </div>
                    <div class="service-card" data-service="cardiologie">
                        <div class="card-icon" aria-hidden="true">❤️</div>
                        <div class="card-content">
                            <h3 class="card-title">Cardiologie</h3>
                            <p class="card-description">Dispositifs avancés pour l'exploration et le traitement des pathologies cardiovasculaires. Technologies de pointe pour un diagnostic précis.</p>
                            <ul style="margin-top: 15px; color: var(--text-gray);">
                                <li>Électrocardiographes</li>
                                <li>Échocardiographes</li>
                                <li>Holters et défibrillateurs</li>
                            </ul>
                        </div>
                    </div>
                    <div class="service-card" data-service="radiologie">
                        <div class="card-icon" aria-hidden="true">📡</div>
                        <div class="card-content">
                            <h3 class="card-title">Radiologie</h3>
                            <p class="card-description">Technologies d'imagerie médicale pour un diagnostic précis et non invasif. Solutions complètes d'imagerie diagnostique.</p>
                            <ul style="margin-top: 15px; color: var(--text-gray);">
                                <li>Scanners haute résolution</li>
                                <li>IRM 3 Tesla</li>
                                <li>Mammographie numérique</li>
                            </ul>
                        </div>
                    </div>
                    <div class="service-card" data-service="neurologie">
                        <div class="card-icon" aria-hidden="true">🧠</div>
                        <div class="card-content">
                            <h3 class="card-title">Neurologie</h3>
                            <p class="card-description">Équipements spécialisés pour l'étude du système nerveux central et périphérique. Diagnostic neurologique avancé.</p>
                            <ul style="margin-top: 15px; color: var(--text-gray);">
                                <li>Électroencéphalographes</li>
                                <li>Scanner cérébral</li>
                                <li>Doppler transcrânien</li>
                            </ul>
                        </div>
                    </div>
                    <div class="service-card" data-service="orthopédie">
                        <div class="card-icon" aria-hidden="true">🦴</div>
                        <div class="card-content">
                            <h3 class="card-title">Orthopédie</h3>
                            <p class="card-description">Dispositifs pour le diagnostic et le traitement des troubles musculo-squelettiques. Imagerie et thérapie osseuse.</p>
                            <ul style="margin-top: 15px; color: var(--text-gray);">
                                <li>Radiographie osseuse</li>
                                <li>Arthroscopes</li>
                                <li>Densitométrie osseuse</li>
                            </ul>
                        </div>
                    </div>
                    <div class="service-card" data-service="gastroentérologie">
                        <div class="card-icon" aria-hidden="true">🔬</div>
                        <div class="card-content">
                            <h3 class="card-title">Gastro-entérologie</h3>
                            <p class="card-description">Équipements pour l'exploration du système digestif et des organes associés. Endoscopie et imagerie digestive.</p>
                            <ul style="margin-top: 15px; color: var(--text-gray);">
                                <li>Endoscopie avancée</li>
                                <li>Coloscopie haute définition</li>
                                <li>pH-métrie 24h</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="devices-page" class="content-section hidden" role="region" aria-label="Dispositifs médicaux">
                <button class="back-btn" id="servicesBackBtn" aria-label="Retour aux services">← Retour aux services</button>
                <h1 class="page-title" id="devicesTitle">Dispositifs Médicaux</h1>
                <div class="sort-section">
                    <select class="sort-select" id="sortSelect" aria-label="Trier les dispositifs">
                        <option value="name-asc">Nom (A-Z)</option>
                        <option value="name-desc">Nom (Z-A)</option>
                        <option value="brands-asc">Nombre de marques (Croissant)</option>
                        <option value="brands-desc">Nombre de marques (Décroissant)</option>
                    </select>
                    <select class="sort-select" id="brandFilter" aria-label="Filtrer par marque">
                        <option value="">Toutes les marques</option>
                    </select>
                </div>
                <div class="devices-grid" id="devicesGrid" aria-live="polite"></div>
            </section>

            <section id="device-details-page" class="content-section hidden" role="region" aria-label="Détails du dispositif">
                <button class="back-btn" id="devicesBackBtn" aria-label="Retour aux dispositifs">← Retour aux dispositifs</button>
                <div class="device-details" id="deviceDetailsContent"></div>
            </section>

            <section id="brand-details-page" class="content-section hidden" role="region" aria-label="Détails de la marque">
                <button class="back-btn" id="deviceBackBtn" aria-label="Retour au dispositif">← Retour au dispositif</button>
                <div class="brand-details" id="brandDetailsContent"></div>
            </section>

            <button class="chatbot-toggle" id="chatbotToggle" aria-label="Ouvrir le chatbot">💬</button>
            <div class="chatbot-container" id="chatbotContainer" role="dialog" aria-label="Chatbot MediTech">
                <div class="chatbot-header">
                    <span>MediTech Assistant</span>
                    <span class="chatbot-close" id="chatbotClose" aria-label="Fermer le chatbot">×</span>
                </div>
                <div class="chatbot-body" id="chatbotBody"></div>
                <div class="chatbot-input">
                    <input type="text" id="chatbotInput" placeholder="Posez une question..." aria-label="Saisir une question pour le chatbot">
                    <button id="chatbotSend" aria-label="Envoyer la question">➤</button>
                </div>
            </div>

            <button class="back-to-top" id="backToTop" aria-label="Retour en haut">↑ Haut</button>

            <footer class="footer" role="contentinfo">
                <p>© 2025 MediTech. Tous droits réservés.</p>
                <p>
                    <a href="mailto:info@meditech.com">info@meditech.com</a> |
                    <a href="tel:+33123456789">+33 1 23 45 67 89</a>
                </p>
            </footer>
        </main>
    </div>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "MediTech",
        "url": "https://www.meditech.com",
        "logo": "https://via.placeholder.com/32x32?text=MT",
        "contactPoint": [
            {
                "@type": "ContactPoint",
                "telephone": "+33-1-23-45-67-89",
                "contactType": "Customer Service",
                "email": "info@meditech.com"
            }
        ],
        "description": "MediTech propose un écosystème complet de technologies médicales de pointe pour toutes les spécialités médicales."
    }
    </script>

    <script>
        // State Management
        const state = {
            currentService: '',
            currentDevice: '',
            currentBrand: '',
            currentView: 'grid',
            favorites: JSON.parse(localStorage.getItem('favorites')) || [],
            theme: localStorage.getItem('theme') || 'light'
        };

        // Data
        const devices = {
            pediatrie: [
                { 
                    name: 'Échographe Pédiatrique', 
                    image: 'https://via.placeholder.com/400x250?text=Échographe+Pédiatrique', 
                    role: 'Diagnostic par imagerie pour enfants et nourrissons.',
                    principle: 'Utilise des ultrasons pour produire des images des organes internes en temps réel.',
                    components: ['Sonde à ultrasons', 'Écran Full HD', 'Système de traitement d\'image', 'Clavier de commande'],
                    maintenance: ['Vérifier l\'état de la sonde', 'Nettoyer l\'écran et le clavier', 'Calibrer le système mensuellement', 'Mettre à jour le logiciel'],
                    brands: ['Philips Healthcare', 'GE Healthcare']
                },
                { 
                    name: 'Moniteur Néonatal', 
                    image: 'https://via.placeholder.com/400x250?text=Moniteur+Néonatal', 
                    role: 'Surveillance continue des paramètres vitaux des nouveau-nés.',
                    principle: 'Mesure et affiche les signaux vitaux comme le rythme cardiaque et la saturation en oxygène.',
                    components: ['Capteurs SpO2', 'Électrodes ECG', 'Écran tactile', 'Système d\'alarme'],
                    maintenance: ['Vérifier les capteurs quotidiennement', 'Nettoyer les électrodes', 'Tester les alarmes', 'Remplacer la batterie si nécessaire'],
                    brands: ['GE Healthcare', 'Dräger']
                }
            ],
            cardiologie: [
                { 
                    name: 'Électrocardiographe', 
                    image: 'https://via.placeholder.com/400x250?text=ECG', 
                    role: 'Diagnostic des anomalies cardiaques par enregistrement électrique.',
                    principle: 'Enregistre l\'activité électrique du cœur via des électrodes placées sur la peau.',
                    components: ['Électrodes', 'Câbles de dérivation', 'Imprimante thermique', 'Écran LCD'],
                    maintenance: ['Vérifier les électrodes', 'Nettoyer les câbles', 'Tester l\'imprimante', 'Calibrer l\'appareil'],
                    brands: ['Mortara Instruments', 'Philips Healthcare']
                },
                { 
                    name: 'Échocardiographe', 
                    image: 'https://via.placeholder.com/400x250?text=Échocardiographe', 
                    role: 'Imagerie du cœur pour évaluer sa structure et sa fonction.',
                    principle: 'Utilise des ultrasons pour visualiser le cœur et les flux sanguins.',
                    components: ['Sonde à ultrasons', 'Écran 4K', 'Système Doppler', 'Logiciel d\'analyse'],
                    maintenance: ['Inspecter la sonde', 'Nettoyer l\'écran', 'Vérifier le logiciel', 'Calibrer le Doppler'],
                    brands: ['Siemens Healthineers', 'Philips Healthcare']
                }
            ],
            radiologie: [
                { 
                    name: 'Scanner', 
                    image: 'https://via.placeholder.com/400x250?text=Scanner', 
                    role: 'Imagerie par tomodensitométrie pour diagnostics détaillés.',
                    principle: 'Utilise des rayons X pour créer des images en coupes des organes.',
                    components: ['Tube à rayons X', 'Détecteurs', 'Table d\'examen', 'Console de traitement'],
                    maintenance: ['Vérifier le tube à rayons X', 'Nettoyer la table', 'Calibrer les détecteurs', 'Mettre à jour le logiciel'],
                    brands: ['Canon Medical', 'Siemens Healthineers']
                },
                { 
                    name: 'IRM', 
                    image: 'https://via.placeholder.com/400x250?text=IRM', 
                    role: 'Imagerie par résonance magnétique pour diagnostics non invasifs.',
                    principle: 'Utilise des champs magnétiques et des ondes radio pour produire des images détaillées.',
                    components: ['Aimant principal', 'Bobines RF', 'Table d\'examen', 'Système de refroidissement'],
                    maintenance: ['Vérifier le système de refroidissement', 'Inspecter les bobines', 'Calibrer l\'aimant', 'Tester les sécurités'],
                    brands: ['Philips Healthcare', 'Siemens Healthineers']
                }
            ],
            neurologie: [
                { 
                    name: 'Électroencéphalographe', 
                    image: 'https://via.placeholder.com/400x250?text=EEG', 
                    role: 'Analyse de l\'activité électrique du cerveau.',
                    principle: 'Enregistre les signaux électriques via des électrodes sur le cuir chevelu.',
                    components: ['Électrodes EEG', 'Amplificateur', 'Écran d\'analyse', 'Logiciel de traitement'],
                    maintenance: ['Vérifier les électrodes', 'Nettoyer l\'amplificateur', 'Tester le logiciel', 'Calibrer l\'appareil'],
                    brands: ['Nihon Kohden', 'Philips Healthcare']
                }
            ],
            orthopédie: [
                { 
                    name: 'Densitomètre Osseux', 
                    image: 'https://via.placeholder.com/400x250?text=DEXA', 
                    role: 'Mesure de la densité minérale osseuse pour diagnostiquer l\'ostéoporose.',
                    principle: 'Utilise des rayons X à double énergie pour évaluer la densité osseuse.',
                    components: ['Source de rayons X', 'Détecteur DEXA', 'Table de scan', 'Logiciel d\'analyse'],
                    maintenance: ['Vérifier la source de rayons X', 'Nettoyer la table', 'Calibrer le détecteur', 'Mettre à jour le logiciel'],
                    brands: ['Hologic Inc', 'GE Healthcare']
                }
            ],
            gastroentérologie: [
                { 
                    name: 'Coloscope', 
                    image: 'https://via.placeholder.com/400x250?text=Coloscope', 
                    role: 'Exploration visuelle du côlon pour dépistage et diagnostic.',
                    principle: 'Utilise une caméra flexible pour visualiser l\'intérieur du côlon.',
                    components: ['Endoscope flexible', 'Caméra HD', 'Source lumineuse', 'Système de contrôle'],
                    maintenance: ['Désinfecter l\'endoscope', 'Vérifier la caméra', 'Tester la source lumineuse', 'Inspecter les canaux'],
                    brands: ['Olympus Medical', 'Fujifilm']
                }
            ]
        };

        const brands = {
            'Philips Healthcare': {
                name: 'Philips Healthcare',
                description: 'Leader mondial en technologies de santé.',
                founded: '1891',
                headquarters: 'Amsterdam, Pays-Bas',
                employees: '77,000+',
                revenue: '€17.3 milliards',
                certifications: ['ISO 13485', 'FDA', 'CE Mark'],
                innovations: ['HealthSuite', 'Azurion', 'MR 7700']
            },
            'GE Healthcare': {
                name: 'GE Healthcare',
                description: 'Innovations médicales depuis plus de 100 ans.',
                founded: '1892',
                headquarters: 'Chicago, États-Unis',
                employees: '50,000+',
                revenue: '€16.7 milliards',
                certifications: ['ISO 14001', 'OHSAS 18001', 'ISO 13485'],
                innovations: ['Revolution CT', 'SIGNA MR', 'Vscan']
            },
            'Siemens Healthineers': {
                name: 'Siemens Healthineers',
                description: 'Pionniers en technologie médicale.',
                founded: '1847',
                headquarters: 'Erlangen, Allemagne',
                employees: '66,000+',
                revenue: '€18.0 milliards',
                certifications: ['ISO 9001', 'ISO 14001', 'OHSAS 18001'],
                innovations: ['SOMATOM', 'MAGNETOM', 'Atellica']
            },
            'Canon Medical': {
                name: 'Canon Medical',
                description: 'Excellence en imagerie médicale.',
                founded: '1930',
                headquarters: 'Tokyo, Japon',
                employees: '10,000+',
                revenue: '€3.2 milliards',
                certifications: ['JIS Q 9001', 'ISO 14001', 'FDA'],
                innovations: ['Aquilion', 'Vantage', 'Aplio']
            },
            'Mortara Instruments': {
                name: 'Mortara Instruments',
                description: 'Spécialiste en cardiologie diagnostique.',
                founded: '1967',
                headquarters: 'Milwaukee, États-Unis',
                employees: '500+',
                revenue: '€120 millions',
                certifications: ['ISO 13485', 'FDA 510(k)', 'Health Canada'],
                innovations: ['VERITAS', 'X-SCRIBE', 'H-SCRIBE']
            },
            'Nihon Kohden': {
                name: 'Nihon Kohden',
                description: 'Innovation japonaise en monitoring.',
                founded: '1951',
                headquarters: 'Tokyo, Japon',
                employees: '8,500+',
                revenue: '€1.8 milliards',
                certifications: ['ISO 9001', 'ISO 14001', 'JQA'],
                innovations: ['Neurofax', 'Life Scope', 'Cardiolife']
            },
            'Hologic Inc': {
                name: 'Hologic Inc',
                description: 'Pionnier en santé des femmes.',
                founded: '1985',
                headquarters: 'Marlborough, États-Unis',
                employees: '6,000+',
                revenue: '€3.8 milliards',
                certifications: ['ISO 13485', 'FDA', 'CE'],
                innovations: ['3D Mammography', 'Discovery', 'Panther']
            },
            'Olympus Medical': {
                name: 'Olympus Medical',
                description: 'Leader mondial en endoscopie.',
                founded: '1919',
                headquarters: 'Tokyo, Japon',
                employees: '31,000+',
                revenue: '€6.8 milliards',
                certifications: ['ISO 9001', 'ISO 14001', 'ISO 13485'],
                innovations: ['EVIS X1', 'THUNDERBEAT', 'VISERA ELITE']
            },
            'Dräger': {
                name: 'Dräger',
                description: 'Spécialiste en technologies médicales et de sécurité.',
                founded: '1889',
                headquarters: 'Lübeck, Allemagne',
                employees: '14,000+',
                revenue: '€3.4 milliards',
                certifications: ['ISO 9001', 'ISO 13485', 'CE'],
                innovations: ['Evita', 'Babylog', 'Atlan']
            },
            'Fujifilm': {
                name: 'Fujifilm',
                description: 'Innovateur en imagerie et endoscopie médicale.',
                founded: '1934',
                headquarters: 'Tokyo, Japon',
                employees: '73,000+',
                revenue: '€18.5 milliards',
                certifications: ['ISO 9001', 'ISO 13485', 'FDA'],
                innovations: ['ELUXEO', 'Synapse', 'FDR']
            }
        };

        const services = {
            pediatrie: {
                name: 'Pédiatrie',
                description: 'Équipements spécialisés pour le diagnostic et le traitement des enfants et nourrissons. Technologies adaptées aux besoins spécifiques de la médecine pédiatrique.',
                examples: ['Échographes pédiatriques', 'Moniteurs néonataux', 'Ventilateurs adaptés']
            },
            cardiologie: {
                name: 'Cardiologie',
                description: 'Dispositifs avancés pour l\'exploration et le traitement des pathologies cardiovasculaires. Technologies de pointe pour un diagnostic précis.',
                examples: ['Électrocardiographes', 'Échocardiographes', 'Holters et défibrillateurs']
            },
            radiologie: {
                name: 'Radiologie',
                description: 'Technologies d\'imagerie médicale pour un diagnostic précis et non invasif. Solutions complètes d\'imagerie diagnostique.',
                examples: ['Scanners haute résolution', 'IRM 3 Tesla', 'Mammographie numérique']
            },
            neurologie: {
                name: 'Neurologie',
                description: 'Équipements spécialisés pour l\'étude du système nerveux central et périphérique. Diagnostic neurologique avancé.',
                examples: ['Électroencéphalographes', 'Scanner cérébral', 'Doppler transcrânien']
            },
            orthopédie: {
                name: 'Orthopédie',
                description: 'Dispositifs pour le diagnostic et le traitement des troubles musculo-squelettiques. Imagerie et thérapie osseuse.',
                examples: ['Radiographie osseuse', 'Arthroscopes', 'Densitométrie osseuse']
            },
            'gastroentérologie': {
                name: 'Gastro-entérologie',
                description: 'Équipements pour l\'exploration du système digestif et des organes associés. Endoscopie et imagerie digestive.',
                examples: ['Endoscopie avancée', 'Coloscopie haute définition', 'pH-métrie 24h']
            }
        };

        // Utility Functions
        function hideAllPages() {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
            });
        }

        function updateBreadcrumb(items) {
            const breadcrumb = document.getElementById('breadcrumb');
            if (!breadcrumb) return;
            breadcrumb.innerHTML = '';
            items.forEach((item, index) => {
                const button = document.createElement('button');
                button.textContent = item.text;
                button.setAttribute('aria-label', item.text);
                button.onclick = item.action;
                breadcrumb.appendChild(button);
                if (index < items.length - 1) {
                    breadcrumb.appendChild(document.createTextNode(' > '));
                }
            });
        }

        function trackEvent(action, label) {
            // Placeholder for analytics tracking
            console.log(`Event: ${action}, Label: ${label}`);
        }

        // Page Navigation
        function showHome() {
            hideAllPages();
            const homePage = document.getElementById('home-page');
            if (homePage) {
                homePage.classList.remove('hidden');
                updateBreadcrumb([]);
                updateStats();
                trackEvent('view_page', 'home');
            }
        }

        function showServices() {
            hideAllPages();
            const servicesPage = document.getElementById('services-page');
            if (servicesPage) {
                servicesPage.classList.remove('hidden');
                updateBreadcrumb([{ text: 'Spécialités Médicales', action: showServices }]);
                trackEvent('view_page', 'services');
            }
        }

        function showDevices(service) {
            if (!devices[service]) {
                const devicesGrid = document.getElementById('devicesGrid');
                if (devicesGrid) {
                    devicesGrid.innerHTML = '<p class="image-error">Aucun dispositif trouvé pour cette spécialité.</p>';
                }
                return;
            }

            state.currentService = service;
            hideAllPages();
            const devicesPage = document.getElementById('devices-page');
            const devicesTitle = document.getElementById('devicesTitle');
            const devicesGrid = document.getElementById('devicesGrid');
            
            if (devicesPage && devicesTitle && devicesGrid) {
                devicesPage.classList.remove('hidden');
                devicesTitle.textContent = `Dispositifs Médicaux - ${service.charAt(0).toUpperCase() + service.slice(1)}`;
                devicesGrid.innerHTML = '';
                
                const fragment = document.createDocumentFragment();
                const filteredDevices = filterDevices(devices[service]);
                sortDevices(filteredDevices).forEach(device => {
                    const card = createDeviceCard(device);
                    fragment.appendChild(card);
                });
                devicesGrid.appendChild(fragment);
                
                updateBreadcrumb([
                    { text: 'Spécialités Médicales', action: showServices },
                    { text: service.charAt(0).toUpperCase() + service.slice(1), action: () => showDevices(service) }
                ]);
                updateBrandFilter();
                trackEvent('view_page', `devices_${service}`);
            }
        }

        function showDeviceDetails(deviceName) {
            const device = findDeviceByName(deviceName);
            if (!device) return;
            
            state.currentDevice = deviceName;
            hideAllPages();
            const deviceDetailsPage = document.getElementById('device-details-page');
            const deviceDetailsContent = document.getElementById('deviceDetailsContent');
            
            if (deviceDetailsPage && deviceDetailsContent) {
                deviceDetailsPage.classList.remove('hidden');
                deviceDetailsContent.innerHTML = createDeviceDetailsHTML(device);
                
                updateBreadcrumb([
                    { text: 'Spécialités Médicales', action: showServices },
                    { text: state.currentService.charAt(0).toUpperCase() + state.currentService.slice(1), action: () => showDevices(state.currentService) },
                    { text: device.name, action: () => showDeviceDetails(deviceName) }
                ]);

                document.querySelectorAll('.brand-link').forEach(link => {
                    link.removeEventListener('click', brandLinkHandler);
                    link.addEventListener('click', brandLinkHandler);
                });

                const favoriteBtn = document.getElementById(`favorite-${deviceName}`);
                if (favoriteBtn) {
                    favoriteBtn.addEventListener('click', (e) => toggleFavorite(e, deviceName));
                }
                trackEvent('view_device', deviceName);
            }
        }

        function showBrandDetails(brandName) {
            const brand = brands[brandName];
            if (!brand) return;

            state.currentBrand = brandName;
            hideAllPages();
            const brandDetailsPage = document.getElementById('brand-details-page');
            const brandDetailsContent = document.getElementById('brandDetailsContent');
            
            if (brandDetailsPage && brandDetailsContent) {
                brandDetailsPage.classList.remove('hidden');
                brandDetailsContent.innerHTML = createBrandDetailsHTML(brand);
                
                updateBreadcrumb([
                    { text: 'Spécialités Médicales', action: showServices },
                    { text: state.currentService.charAt(0).toUpperCase() + state.currentService.slice(1), action: () => showDevices(state.currentService) },
                    { text: state.currentDevice, action: () => showDeviceDetails(state.currentDevice) },
                    { text: brand.name, action: () => showBrandDetails(brandName) }
                ]);

                const downloadBtn = document.getElementById('downloadBrandBtn');
                if (downloadBtn) {
                    downloadBtn.addEventListener('click', () => downloadBrandDatasheet(brandName));
                }
                trackEvent('view_brand', brandName);
            }
        }

        // Device Management
        function findDeviceByName(name) {
            for (const service in devices) {
                const device = devices[service].find(d => d.name === name);
                if (device) return device;
            }
            return null;
        }

        function createDeviceCard(device) {
            const card = document.createElement('div');
            card.className = `device-card ${state.currentView}-view`;
            card.innerHTML = `
                <img src="${device.image}" alt="${device.name}" class="card-image" loading="lazy">
                <button class="favorite-btn ${state.favorites.includes(device.name) ? 'favorited' : ''}" id="favorite-${device.name}" aria-label="Ajouter ${device.name} aux favoris">❤️</button>
                <div class="card-content">
                    <h3 class="card-title">${device.name}</h3>
                </div>
            `;
            card.addEventListener('click', (e) => {
                if (!e.target.classList.contains('favorite-btn')) {
                    showDeviceDetails(device.name);
                }
            });
            return card;
        }

        function createDeviceDetailsHTML(device) {
            return `
                <h1 class="page-title">${device.name}</h1>
                <img src="${device.image}" alt="${device.name}" class="device-image" loading="lazy">
                <button class="favorite-btn ${state.favorites.includes(device.name) ? 'favorited' : ''}" id="favorite-${device.name}" aria-label="Ajouter ${device.name} aux favoris">❤️</button>
                
                <div class="device-info">
                    <h3>Rôle</h3>
                    <p>${device.role}</p>
                </div>

                <div class="device-info">
                    <h3>Principe de Fonctionnement</h3>
                    <p>${device.principle}</p>
                </div>

                <div class="device-info">
                    <h3>Composants Principaux</h3>
                    <ul>
                        ${device.components.map(component => `<li>${component}</li>`).join('')}
                    </ul>
                </div>

                <div class="device-info">
                    <h3>Checklist pour Maintenance Préventive</h3>
                    <ul>
                        ${device.maintenance.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>

                <div class="device-info">
                    <h3>Marques</h3>
                    <div class="brands-section">
                        ${device.brands.map(brand => `<a href="#" class="brand-link" data-brand="${brand}" aria-label="Voir les détails de ${brand}">${brand}</a>`).join('')}
                    </div>
                </div>
            `;
        }

        function createBrandDetailsHTML(brand) {
            return `
                <h1 class="page-title">${brand.name}</h1>
                <div class="brand-actions">
                    <button class="btn-primary" id="downloadBrandBtn" aria-label="Télécharger la fiche technique de ${brand.name}">Télécharger la fiche technique</button>
                </div>
                <div class="device-info">
                    <h3>Description</h3>
                    <p>${brand.description}</p>
                </div>
                <div class="device-info">
                    <h3>Fondée</h3>
                    <p>${brand.founded}</p>
                </div>
                <div class="device-info">
                    <h3>Siège</h3>
                    <p>${brand.headquarters}</p>
                </div>
                <div class="device-info">
                    <h3>Employés</h3>
                    <p>${brand.employees}</p>
                </div>
                <div class="device-info">
                    <h3>Revenus</h3>
                    <p>${brand.revenue}</p>
                </div>
                <div class="device-info">
                    <h3>Certifications</h3>
                    <ul>
                        ${brand.certifications.map(cert => `<li>${cert}</li>`).join('')}
                    </ul>
                </div>
                <div class="device-info">
                    <h3>Innovations</h3>
                    <ul>
                        ${brand.innovations.map(innovation => `<li>${innovation}</li>`).join('')}
                    </ul>
                </div>
            `;
        }

        function downloadBrandDatasheet(brandName) {
            const brand = brands[brandName];
            if (!brand) return;
            
            const content = `
                Fiche technique - ${brand.name}
                --------------------------------
                Description: ${brand.description}
                Fondée: ${brand.founded}
                Siège: ${brand.headquarters}
                Employés: ${brand.employees}
                Revenus: ${brand.revenue}
                Certifications: ${brand.certifications.join(', ')}
                Innovations: ${brand.innovations.join(', ')}
            `;
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${brandName}_datasheet.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            trackEvent('download_datasheet', brandName);
        }

        function brandLinkHandler(e) {
            e.preventDefault();
            const brandName = e.target.getAttribute('data-brand');
            if (brandName) {
                showBrandDetails(brandName);
            }
        }

        function updateStats() {
            const deviceCount = Object.values(devices).flat().length;
            const deviceCountElement = document.getElementById('deviceCount');
            if (deviceCountElement) {
                deviceCountElement.textContent = deviceCount;
            }
        }

        function sortDevices(deviceList) {
            const sortSelect = document.getElementById('sortSelect');
            if (!sortSelect) return deviceList;
            const sortValue = sortSelect.value;

            return [...deviceList].sort((a, b) => {
                if (sortValue === 'name-asc') {
                    return a.name.localeCompare(b.name);
                } else if (sortValue === 'name-desc') {
                    return b.name.localeCompare(a.name);
                } else if (sortValue === 'brands-asc') {
                    return a.brands.length - b.brands.length;
                } else if (sortValue === 'brands-desc') {
                    return b.brands.length - a.brands.length;
                }
                return 0;
            });
        }

        function filterDevices(deviceList) {
            const brandFilter = document.getElementById('brandFilter');
            if (!brandFilter) return deviceList;
            const brandValue = brandFilter.value;

            if (!brandValue) return deviceList;
            return deviceList.filter(device => device.brands.includes(brandValue));
        }

        function updateBrandFilter() {
            const brandFilter = document.getElementById('brandFilter');
            if (!brandFilter || !state.currentService) return;

            const availableBrands = [...new Set(devices[state.currentService].flatMap(device => device.brands))];
            brandFilter.innerHTML = '<option value="">Toutes les marques</option>';
            availableBrands.forEach(brand => {
                const option = document.createElement('option');
                option.value = brand;
                option.textContent = brand;
                brandFilter.appendChild(option);
            });
        }

        function toggleFavorite(e, deviceName) {
            e.stopPropagation();
            if (state.favorites.includes(deviceName)) {
                state.favorites = state.favorites.filter(name => name !== deviceName);
            } else {
                state.favorites.push(deviceName);
            }
            localStorage.setItem('favorites', JSON.stringify(state.favorites));
            const favoriteBtn = document.getElementById(`favorite-${deviceName}`);
            if (favoriteBtn) {
                favoriteBtn.classList.toggle('favorited', state.favorites.includes(deviceName));
            }
            trackEvent('toggle_favorite', deviceName);
        }

        // Chatbot Functionality
        function addChatMessage(message, isUser = false, isLoading = false) {
            const chatbotBody = document.getElementById('chatbotBody');
            if (!chatbotBody) return;

            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${isUser ? 'user' : 'bot'}${isLoading ? ' loading' : ''}`;
            messageDiv.innerHTML = `<p>${message}</p>`;
            chatbotBody.appendChild(messageDiv);
            chatbotBody.scrollTop = chatbotBody.scrollHeight;
        }

        function processChatbotQuery(query) {
            const normalizedQuery = query.toLowerCase().trim();
            let response = "Désolé, je n'ai pas compris votre question. Pouvez-vous reformuler ou demander quelque chose sur les dispositifs, les marques ou les spécialités médicales ?";

            if (normalizedQuery.includes('favoris') || normalizedQuery.includes('favorites')) {
                if (state.favorites.length > 0) {
                    response = `Vos dispositifs favoris sont : ${state.favorites.join(', ')}.`;
                } else {
                    response = "Vous n'avez aucun dispositif en favoris.";
                }
                return response;
            }

            for (const serviceKey in services) {
                const service = services[serviceKey];
                if (normalizedQuery.includes(serviceKey) || normalizedQuery.includes(service.name.toLowerCase())) {
                    response = `**${service.name}** : ${service.description} Exemples de dispositifs : ${service.examples.join(', ')}.`;
                    return response;
                }
            }

            for (const serviceKey in devices) {
                const deviceList = devices[serviceKey];
                for (const device of deviceList) {
                    if (normalizedQuery.includes(device.name.toLowerCase())) {
                        response = `**${device.name}** (${serviceKey.charAt(0).toUpperCase() + serviceKey.slice(1)}) : \n- **Rôle** : ${device.role}\n- **Principe** : ${device.principle}\n- **Composants** : ${device.components.join(', ')}\n- **Maintenance** : ${device.maintenance.join(', ')}\n- **Marques** : ${device.brands.join(', ')}`;
                        return response;
                    }
                    if (normalizedQuery.includes('rôle') && normalizedQuery.includes(device.name.toLowerCase())) {
                        response = `Le rôle de **${device.name}** est : ${device.role}`;
                        return response;
                    }
                    if (normalizedQuery.includes('principe') && normalizedQuery.includes(device.name.toLowerCase())) {
                        response = `Le principe de fonctionnement de **${device.name}** est : ${device.principle}`;
                        return response;
                    }
                    if (normalizedQuery.includes('composants') && normalizedQuery.includes(device.name.toLowerCase())) {
                        response = `Les composants principaux de **${device.name}** sont : ${device.components.join(', ')}`;
                        return response;
                    }
                    if (normalizedQuery.includes('maintenance') && normalizedQuery.includes(device.name.toLowerCase())) {
                        response = `La checklist pour la maintenance préventive de **${device.name}** est : ${device.maintenance.join(', ')}`;
                        return response;
                    }
                    if (normalizedQuery.includes('marques') && normalizedQuery.includes(device.name.toLowerCase())) {
                        response = `Les marques associées à **${device.name}** sont : ${device.brands.join(', ')}`;
                        return response;
                    }
                }
            }

            for (const brandKey in brands) {
                const brand = brands[brandKey];
                if (normalizedQuery.includes(brand.name.toLowerCase())) {
                    response = `**${brand.name}** : \n- **Description** : ${brand.description}\n- **Fondée** : ${brand.founded}\n- **Siège** : ${brand.headquarters}\n- **Employés** : ${brand.employees}\n- **Revenus** : ${brand.revenue}\n- **Certifications** : ${brand.certifications.join(', ')}\n- **Innovations** : ${brand.innovations.join(', ')}`;
                    return response;
                }
                if (normalizedQuery.includes('fondée') && normalizedQuery.includes(brand.name.toLowerCase())) {
                    response = `**${brand.name}** a été fondée en ${brand.founded}.`;
                    return response;
                }
                if (normalizedQuery.includes('siège') && normalizedQuery.includes(brand.name.toLowerCase())) {
                    response = `Le siège de **${brand.name}** est à ${brand.headquarters}.`;
                    return response;
                }
                if (normalizedQuery.includes('employés') && normalizedQuery.includes(brand.name.toLowerCase())) {
                    response = `**${brand.name}** compte ${brand.employees} employés.`;
                    return response;
                }
                if (normalizedQuery.includes('revenus') && normalizedQuery.includes(brand.name.toLowerCase())) {
                    response = `Les revenus de **${brand.name}** sont de ${brand.revenue}.`;
                    return response;
                }
                if (normalizedQuery.includes('certifications') && normalizedQuery.includes(brand.name.toLowerCase())) {
                    response = `Les certifications de **${brand.name}** sont : ${brand.certifications.join(', ')}.`;
                    return response;
                }
                if (normalizedQuery.includes('innovations') && normalizedQuery.includes(brand.name.toLowerCase())) {
                    response = `Les innovations de **${brand.name}** incluent : ${brand.innovations.join(', ')}.`;
                    return response;
                }
            }

            if (normalizedQuery.includes('spécialités')) {
                response = `MediTech propose des équipements pour les spécialités suivantes : ${Object.values(services).map(s => s.name).join(', ')}.`;
            } else if (normalizedQuery.includes('dispositifs')) {
                const allDevices = Object.values(devices).flat().map(d => d.name);
                response = `MediTech propose les dispositifs suivants : ${allDevices.join(', ')}.`;
            } else if (normalizedQuery.includes('marques')) {
                response = `Les marques disponibles sur MediTech incluent : ${Object.keys(brands).join(', ')}.`;
            }

            return response;
        }

        // Theme Management
        function toggleTheme() {
            state.theme = state.theme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', state.theme);
            localStorage.setItem('theme', state.theme);
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.textContent = state.theme === 'light' ? '🌙' : '☀️';
                themeToggle.setAttribute('aria-label', `Basculer le mode ${state.theme === 'light' ? 'sombre' : 'clair'}`);
            }
            trackEvent('toggle_theme', state.theme);
        }

        // Debounce Utility
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Apply saved theme
            document.documentElement.setAttribute('data-theme', state.theme);
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.textContent = state.theme === 'light' ? '🌙' : '☀️';
                themeToggle.addEventListener('click', toggleTheme);
            }

            // View Toggle
            const gridBtn = document.getElementById('gridBtn');
            const listBtn = document.getElementById('listBtn');
            if (gridBtn && listBtn) {
                gridBtn.addEventListener('click', () => {
                    state.currentView = 'grid';
                    gridBtn.classList.add('active');
                    listBtn.classList.remove('active');
                    document.querySelectorAll('.devices-grid, .services-grid').forEach(grid => {
                        grid.classList.remove('list-view');
                    });
                    trackEvent('toggle_view', 'grid');
                });
                listBtn.addEventListener('click', () => {
                    state.currentView = 'list';
                    listBtn.classList.add('active');
                    gridBtn.classList.remove('active');
                    document.querySelectorAll('.devices-grid, .services-grid').forEach(grid => {
                        grid.classList.add('list-view');
                    });
                    trackEvent('toggle_view', 'list');
                });
            }

            // Navigation Buttons
            const exploreServicesBtn = document.getElementById('exploreServicesBtn');
            if (exploreServicesBtn) {
                exploreServicesBtn.addEventListener('click', showServices);
            }

            const homeBackBtn = document.getElementById('homeBackBtn');
            if (homeBackBtn) {
                homeBackBtn.addEventListener('click', showHome);
            }

            const servicesBackBtn = document.getElementById('servicesBackBtn');
            if (servicesBackBtn) {
                servicesBackBtn.addEventListener('click', showServices);
            }

            const devicesBackBtn = document.getElementById('devicesBackBtn');
            if (devicesBackBtn) {
                devicesBackBtn.addEventListener('click', () => showDevices(state.currentService));
            }

            const deviceBackBtn = document.getElementById('deviceBackBtn');
            if (deviceBackBtn) {
                deviceBackBtn.addEventListener('click', () => showDeviceDetails(state.currentDevice));
            }

            // Service Cards
            document.querySelectorAll('.service-card').forEach(card => {
                card.addEventListener('click', () => {
                    const service = card.getAttribute('data-service');
                    if (service) {
                        showDevices(service);
                    }
                });
            });

            // Search Functionality
            const searchBox = document.getElementById('searchBox');
            if (searchBox) {
                const debouncedSearch = debounce((e) => {
                    const searchTerm = e.target.value.toLowerCase();
                    const devicesGrid = document.getElementById('devicesGrid');
                    if (!devicesGrid) return;
                    devicesGrid.innerHTML = '';

                    if (state.currentService && devices[state.currentService]) {
                        const filteredDevices = filterDevices(devices[state.currentService]).filter(device =>
                            device.name.toLowerCase().includes(searchTerm) ||
                            device.role.toLowerCase().includes(searchTerm)
                        );
                        if (filteredDevices.length > 0) {
                            const fragment = document.createDocumentFragment();
                            sortDevices(filteredDevices).forEach(device => {
                                const card = createDeviceCard(device);
                                fragment.appendChild(card);
                            });
                            devicesGrid.appendChild(fragment);
                        } else {
                            devicesGrid.innerHTML = '<p class="image-error">Aucun dispositif trouvé pour cette spécialité.</p>';
                        }
                        trackEvent('search', searchTerm);
                    }
                }, 300);
                searchBox.addEventListener('input', debouncedSearch);
            }

            // Sort and Filter
            const sortSelect = document.getElementById('sortSelect');
            if (sortSelect) {
                sortSelect.addEventListener('change', () => {
                    if (state.currentService) {
                        showDevices(state.currentService);
                    }
                    trackEvent('sort_devices', sortSelect.value);
                });
            }

            const brandFilter = document.getElementById('brandFilter');
            if (brandFilter) {
                brandFilter.addEventListener('change', () => {
                    if (state.currentService) {
                        showDevices(state.currentService);
                    }
                    trackEvent('filter_brand', brandFilter.value);
                });
            }

                        // DOM Element Cache
            const domCache = {
                searchBox: document.getElementById('searchBox'),
                devicesGrid: document.getElementById('devicesGrid'),
                sortSelect: document.getElementById('sortSelect'),
                brandFilter: document.getElementById('brandFilter')
            };

            /**
             * Generates search suggestions based on the input term.
             * @param {string} searchTerm - The user's search input.
             * @returns {Array} - List of suggestion objects with name and role.
             */
            function getSearchSuggestions(searchTerm) {
                if (!searchTerm || !state.currentService || !devices[state.currentService]) return [];
                const term = searchTerm.toLowerCase().trim();
                return devices[state.currentService]
                    .filter(device =>
                        device.name.toLowerCase().includes(term) ||
                        device.role.toLowerCase().includes(term)
                    )
                    .map(device => ({
                        name: device.name,
                        role: device.role
                    }))
                    .slice(0, 5); // Limit to 5 suggestions
            }

            /**
             * Renders search suggestions in a dropdown.
             * @param {Array} suggestions - List of suggestion objects.
             * @param {string} searchTerm - The current search term for highlighting.
             */
            function renderSearchSuggestions(suggestions, searchTerm) {
                const suggestionContainer = document.getElementById('searchSuggestions');
                if (!suggestionContainer) return;

                suggestionContainer.innerHTML = '';
                if (suggestions.length === 0) {
                    suggestionContainer.style.display = 'none';
                    return;
                }

                const ul = document.createElement('ul');
                ul.className = 'search-suggestions';
                ul.setAttribute('role', 'listbox');
                ul.setAttribute('aria-label', 'Suggestions de recherche');

                suggestions.forEach((suggestion, index) => {
                    const li = document.createElement('li');
                    li.setAttribute('role', 'option');
                    li.setAttribute('aria-selected', 'false');
                    li.setAttribute('tabindex', '-1');
                    li.className = 'suggestion-item';
                    const highlightedName = suggestion.name.replace(
                        new RegExp(searchTerm, 'gi'),
                        match => `<mark>${match}</mark>`
                    );
                    li.innerHTML = `<span>${highlightedName}</span><small>${suggestion.role}</small>`;
                    li.addEventListener('click', () => {
                        domCache.searchBox.value = suggestion.name;
                        suggestionContainer.style.display = 'none';
                        triggerSearch(suggestion.name);
                        trackEvent('select_suggestion', suggestion.name);
                    });
                    li.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter') {
                            li.click();
                        }
                    });
                    ul.appendChild(li);
                });

                suggestionContainer.appendChild(ul);
                suggestionContainer.style.display = 'block';
            }

            /**
             * Triggers a search with the given term.
             * @param {string} searchTerm - The search term to filter devices.
             */
            function triggerSearch(searchTerm) {
                if (!domCache.devicesGrid || !state.currentService || !devices[state.currentService]) return;

                domCache.devicesGrid.innerHTML = '<div class="loading-spinner" aria-label="Chargement des résultats"></div>';
                const filteredDevices = filterDevices(devices[state.currentService]).filter(device =>
                    device.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    device.role.toLowerCase().includes(searchTerm.toLowerCase())
                );

                setTimeout(() => {
                    domCache.devicesGrid.innerHTML = '';
                    if (filteredDevices.length > 0) {
                        const fragment = document.createDocumentFragment();
                        sortDevices(filteredDevices).forEach(device => {
                            const card = createDeviceCard(device);
                            fragment.appendChild(card);
                        });
                        domCache.devicesGrid.appendChild(fragment);
                        domCache.devicesGrid.setAttribute('aria-live', 'polite');
                        domCache.devicesGrid.setAttribute('aria-atomic', 'true');
                        domCache.devicesGrid.setAttribute('aria-relevant', 'additions removals');
                    } else {
                        domCache.devicesGrid.innerHTML = '<p class="image-error">Aucun dispositif trouvé pour cette recherche.</p>';
                    }
                    trackEvent('search', searchTerm);
                }, 300); // Simulate async operation
            }

            // Search Functionality
            if (domCache.searchBox) {
                // Create suggestions container
                const suggestionContainer = document.createElement('div');
                suggestionContainer.id = 'searchSuggestions';
                suggestionContainer.className = 'search-suggestions-container';
                domCache.searchBox.parentElement.appendChild(suggestionContainer);

                // Clear search button
                const clearSearchBtn = document.createElement('button');
                clearSearchBtn.className = 'clear-search-btn';
                clearSearchBtn.textContent = '✖';
                clearSearchBtn.setAttribute('aria-label', 'Effacer la recherche');
                clearSearchBtn.style.display = 'none';
                domCache.searchBox.parentElement.appendChild(clearSearchBtn);

                const debouncedSearch = debounce((e) => {
                    const searchTerm = e.target.value.trim();
                    clearSearchBtn.style.display = searchTerm ? 'block' : 'none';

                    if (!searchTerm) {
                        showDevices(state.currentService);
                        suggestionContainer.style.display = 'none';
                        return;
                    }

                    const suggestions = getSearchSuggestions(searchTerm);
                    renderSearchSuggestions(suggestions, searchTerm);
                    triggerSearch(searchTerm);
                }, 300);

                domCache.searchBox.addEventListener('input', debouncedSearch);
                domCache.searchBox.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        domCache.searchBox.value = '';
                        clearSearchBtn.style.display = 'none';
                        suggestionContainer.style.display = 'none';
                        showDevices(state.currentService);
                    }
                });

                clearSearchBtn.addEventListener('click', () => {
                    domCache.searchBox.value = '';
                    clearSearchBtn.style.display = 'none';
                    suggestionContainer.style.display = 'none';
                    showDevices(state.currentService);
                    trackEvent('clear_search', state.currentService);
                });

                // Keyboard navigation for suggestions
                suggestionContainer.addEventListener('keydown', (e) => {
                    const items = suggestionContainer.querySelectorAll('.suggestion-item');
                    const active = document.activeElement;
                    let index = Array.from(items).indexOf(active);

                    if (e.key === 'ArrowDown') {
                        e.preventDefault();
                        index = (index + 1) % items.length;
                        items[index].focus();
                        items[index].setAttribute('aria-selected', 'true');
                        if (index > 0) items[index - 1].setAttribute('aria-selected', 'false');
                    } else if (e.key === 'ArrowUp') {
                        e.preventDefault();
                        index = (index - 1 + items.length) % items.length;
                        items[index].focus();
                        items[index].setAttribute('aria-selected', 'true');
                        if (index < items.length - 1) items[index + 1].setAttribute('aria-selected', 'false');
                    }
                });
            }

            // Sort and Filter Functionality
            if (domCache.sortSelect) {
                domCache.sortSelect.addEventListener('change', () => {
                    if (state.currentService) {
                        localStorage.setItem('sortPreference', domCache.sortSelect.value);
                        showDevices(state.currentService);
                    }
                    trackEvent('sort_devices', domCache.sortSelect.value);
                });
                // Restore sort preference
                const savedSort = localStorage.getItem('sortPreference');
                if (savedSort) domCache.sortSelect.value = savedSort;
            }

            if (domCache.brandFilter) {
                domCache.brandFilter.addEventListener('change', () => {
                    if (state.currentService) {
                        localStorage.setItem('brandFilter', domCache.brandFilter.value);
                        showDevices(state.currentService);
                    }
                    trackEvent('filter_brand', domCache.brandFilter.value);
                });
                // Restore brand filter
                const savedBrand = localStorage.getItem('brandFilter');
                if (savedBrand) domCache.brandFilter.value = savedBrand;

                // Add reset filter button
                const resetFilterBtn = document.createElement('button');
                resetFilterBtn.className = 'btn-primary';
                resetFilterBtn.textContent = 'Réinitialiser les filtres';
                resetFilterBtn.setAttribute('aria-label', 'Réinitialiser les filtres');
                domCache.brandFilter.parentElement.appendChild(resetFilterBtn);

                resetFilterBtn.addEventListener('click', () => {
                    domCache.brandFilter.value = '';
                    domCache.sortSelect.value = 'name-asc';
                    localStorage.setItem('sortPreference', 'name-asc');
                    localStorage.setItem('brandFilter', '');
                    showDevices(state.currentService);
                    trackEvent('reset_filters', state.currentService);
                });
            }

            // Back-to-Top and Chatbot
            const backToTop = document.getElementById('backToTop');
            if (backToTop) {
                window.addEventListener('scroll', () => {
                    backToTop.style.display = window.scrollY > 300 ? 'block' : 'none';
                });
                backToTop.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    trackEvent('back_to_top', 'clicked');
                });
            }

            // Chatbot Event Listeners
            const chatbotToggle = document.getElementById('chatbotToggle');
            const chatbotContainer = document.getElementById('chatbotContainer');
            const chatbotClose = document.getElementById('chatbotClose');
            const chatbotSend = document.getElementById('chatbotSend');
            const chatbotInput = document.getElementById('chatbotInput');

            if (chatbotToggle && chatbotContainer && chatbotClose && chatbotSend && chatbotInput) {
                chatbotToggle.addEventListener('click', () => {
                    const isOpen = chatbotContainer.style.display === 'block';
                    chatbotContainer.style.display = isOpen ? 'none' : 'block';
                    if (!isOpen) {
                        chatbotInput.focus();
                        addChatMessage('Bonjour ! Je suis MediTech Assistant. Posez-moi une question sur les dispositifs, les marques ou les spécialités médicales.', false);
                    }
                    trackEvent('toggle_chatbot', isOpen ? 'closed' : 'opened');
                });

                chatbotClose.addEventListener('click', () => {
                    chatbotContainer.style.display = 'none';
                    trackEvent('close_chatbot', 'clicked');
                });

                chatbotSend.addEventListener('click', () => {
                    const query = chatbotInput.value.trim();
                    if (query) {
                        addChatMessage(query, true);
                        addChatMessage('Chargement...', false, true);
                        setTimeout(() => {
                            const lastLoading = document.querySelector('.chat-message.loading');
                            if (lastLoading) lastLoading.remove();
                            const response = processChatbotQuery(query);
                            addChatMessage(response, false);
                            trackEvent('chatbot_query', query);
                        }, 800); // Simulate async response
                        chatbotInput.value = '';
                    }
                });

                chatbotInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && chatbotInput.value.trim()) {
                        chatbotSend.click();
                    }
                });
            }

            // Initialize
            showHome();
        });

        // Additional Styles for Search Suggestions and Clear Button
        const styleSheet = document.createElement('style');
        styleSheet.textContent = `
            .search-suggestions-container {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--white);
                border: 2px solid var(--border-light);
                border-radius: 12px;
                box-shadow: var(--shadow);
                max-height: 200px;
                overflow-y: auto;
                z-index: 100;
                display: none;
                margin-top: 5px;
            }
            .search-suggestions {
                list-style: none;
                padding: 10px;
            }
            .suggestion-item {
                padding: 10px;
                cursor: pointer;
                border-radius: 8px;
                transition: background 0.3s ease;
            }
            .suggestion-item:hover, .suggestion-item:focus {
                background: var(--background-light);
                outline: none;
            }
            .suggestion-item span {
                font-weight: 500;
                color: var(--text-dark);
            }
            .suggestion-item small {
                display: block;
                color: var(--text-gray);
                font-size: 0.8rem;
            }
            .suggestion-item mark {
                background: #ffeb3b;
                color: var(--text-dark);
            }
            .clear-search-btn {
                background: var(--background-light);
                border: 2px solid var(--border-light);
                border-radius: 50%;
                width: 30px;
                height: 30px;
                cursor: pointer;
                font-size: 1rem;
                color: var(--text-gray);
                transition: all 0.3s ease;
                margin-left: 10px;
            }
            .clear-search-btn:hover {
                background: var(--primary-color);
                color: var(--white);
                border-color: var(--primary-color);
            }
        `;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>
</xaiArtifact>

### Explanation of Enhancements
- **Search Suggestions**: A dropdown appears below the search box with up to five suggestions based on device names and roles, with matched terms highlighted using `<mark>`. Suggestions are keyboard-navigable and accessible via ARIA roles.
- **Clear Search Button**: A button appears when the search input is non-empty, allowing users to reset the search with one click.
- **Debounced Search**: The debounce function prevents excessive DOM updates, with a 300ms delay optimized for user typing speed.
- **Sort and Filter Persistence**: User selections for sort and brand filters are saved in `localStorage`, ensuring preferences persist across sessions.
- **Loading Indicators**: Added spinners for search and chatbot responses to indicate processing, enhancing perceived performance.
- **Accessibility**: ARIA attributes (`aria-live`, `aria-selected`, etc.) ensure screen readers announce changes, and keyboard navigation is fully supported for suggestions and filters.
- **Analytics Tracking**: The `trackEvent` function logs user interactions (search, sort, filter, etc.) for future analytics integration.
- **Reset Filters**: A button resets both sort and brand filters to default values, improving usability.
- **Performance**: DOM queries are cached, and fragments are used to minimize reflows. The search suggestion rendering is optimized to handle only a few items.
- **Error Handling**: Edge cases (e.g., no devices, invalid service) are handled gracefully with user-friendly messages.
- **Styling**: Added CSS for suggestions and clear button, ensuring they match the existing design with smooth transitions and responsive behavior.

This enhanced code maintains the original functionality while adding modern, user-friendly features and ensuring accessibility and performance. It integrates seamlessly with the existing MediTech webpage, providing a polished and professional experience. If you have specific additional requirements or want to focus on a particular aspect (e.g., more advanced search algorithms, additional analytics), let me know!