<li>Formation utilisateur n√©cessaire</li>
                           <li>Investissement initial important</li>
                           <li>Mise √† jour p√©riodique requise</li>
                       </ul>
                   </div>
               </div>
               
               <div style="text-align: center; margin: 40px 0;">
                   <button class="btn-primary" onclick="showGallery()" style="margin-right: 20px;">üñºÔ∏è Voir la galerie</button>
                   <button class="btn-primary" onclick="document.getElementById('brands-section').scrollIntoView()">üè¢ Voir les marques</button>
               </div>
               
               <div id="brands-section">
                   <h3 style="text-align: center; margin: 40px 0; color: white;">Marques disponibles</h3>
                   <div class="brands-grid">
                       ${device.brands.map(brand => `
                           <div class="brand-card" onclick="showBrandDetails('${brand.name}')">
                               <div class="card-icon">üè¢</div>
                               <div class="card-content">
                                   <h3 class="card-title">${brand.name}</h3>
                                   <p class="card-description">${brand.description}</p>
                               </div>
                           </div>
                       `).join('')}
                   </div>
               </div>
           `;
       }

       function createBrandDetailsHTML(brand) {
           return `
               <h2 style="text-align: center; margin-bottom: 30px;">${brand.name}</h2>
               
               <div class="brand-image">üè¢</div>
               
               <div class="device-info">
                   <h3>√Ä propos de ${brand.name}</h3>
                   <p>${brand.description}</p>
               </div>
               
               <div class="device-info">
                   <h3>Notre partenariat</h3>
                   <p>Nous travaillons en √©troite collaboration avec ${brand.name} pour vous offrir les meilleures solutions technologiques du march√©. Cette partnership nous permet de garantir un support technique de qualit√© et un acc√®s privil√©gi√© aux derni√®res innovations.</p>
               </div>
               
               <div class="pros-cons">
                   <div class="pros">
                       <h4>Points forts</h4>
                       <ul>
                           <li>Leader reconnu sur le march√©</li>
                           <li>Innovation technologique constante</li>
                           <li>Support technique de qualit√©</li>
                           <li>Formation compl√®te incluse</li>
                           <li>Garantie constructeur √©tendue</li>
                       </ul>
                   </div>
                   <div class="cons">
                       <h4>Engagement requis</h4>
                       <ul>
                           <li>Formation du personnel n√©cessaire</li>
                           <li>Mise √† jour r√©guli√®re des protocoles</li>
                           <li>Investissement en maintenance pr√©ventive</li>
                       </ul>
                   </div>
               </div>
               
               <div style="text-align: center; margin: 40px 0;">
                   <button class="btn-primary">üìû Demander un devis</button>
               </div>
           `;
       }

       function updateBreadcrumb(items) {
           const breadcrumb = document.getElementById('breadcrumb');
           if (items.length === 0) {
               breadcrumb.innerHTML = '';
               return;
           }
           
           let html = '<button onclick="showHome()">üè† Accueil</button>';
           items.forEach((item, index) => {
               html += ` > <button onclick="${item.action}">${item.name}</button>`;
           });
           
           breadcrumb.innerHTML = html;
       }

       // View toggle functions
       function setView(view) {
           currentView = view;
           const container = document.querySelector('.container');
           
           if (view === 'list') {
               container.classList.add('list-view');
               document.getElementById('gridBtn').classList.remove('active');
               document.getElementById('listBtn').classList.add('active');
           } else {
               container.classList.remove('list-view');
               document.getElementById('listBtn').classList.remove('active');
               document.getElementById('gridBtn').classList.add('active');
           }
       }

       // Modal functions
       function openModal(imageSrc) {
           document.getElementById('imageModal').style.display = 'block';
           document.getElementById('modalImage').src = imageSrc;
       }

       function closeModal() {
           document.getElementById('imageModal').style.display = 'none';
       }

       // Search functionality
       function setupSearch() {
           const searchBox = document.getElementById('searchBox');
           searchBox.addEventListener('input', function(e) {   
	    const query = e.target.value.toLowerCase();
            filterDevices(query);
           });
       }

       function filterDevices(query) {
           if (!currentService || query === '') {
               return;
           }
           
           const devicesGrid = document.getElementById('devices-grid');
           const filteredDevices = devices[currentService].filter(device =>
               device.name.toLowerCase().includes(query) ||
               device.description.toLowerCase().includes(query) ||
               device.features.some(feature => feature.toLowerCase().includes(query))
           );
           
           devicesGrid.innerHTML = '';
           filteredDevices.forEach(device => {
               const deviceCard = createDeviceCard(device);
               devicesGrid.appendChild(deviceCard);
           });
           
           if (filteredDevices.length === 0) {
               devicesGrid.innerHTML = '<div style="text-align: center; color: rgba(255,255,255,0.7); padding: 40px;">Aucun √©quipement trouv√© pour cette recherche.</div>';
           }
       }

       // Contact form functions
       function toggleContactForm() {
           const overlay = document.getElementById('contactOverlay');
           overlay.style.display = overlay.style.display === 'block' ? 'none' : 'block';
       }

       function submitContactForm() {
           const form = document.getElementById('contactForm');
           const formData = new FormData(form);
           
           // Simulation d'envoi
           alert('Merci pour votre demande ! Nous vous contacterons sous 24h.');
           toggleContactForm();
           form.reset();
       }

       // Statistics counter animation
       function animateCounters() {
           const counters = document.querySelectorAll('.stat-number');
           counters.forEach(counter => {
               const target = parseInt(counter.textContent);
               const increment = target / 50;
               let current = 0;
               
               const timer = setInterval(() => {
                   current += increment;
                   if (current >= target) {
                       counter.textContent = target;
                       clearInterval(timer);
                   } else {
                       counter.textContent = Math.floor(current);
                   }
               }, 30);
           });
       }

       // Smooth scrolling for internal links
       function smoothScroll(targetId) {
           document.getElementById(targetId).scrollIntoView({
               behavior: 'smooth'
           });
       }

       // Initialize tooltips
       function initializeTooltips() {
           const tooltips = document.querySelectorAll('[data-tooltip]');
           tooltips.forEach(element => {
               element.addEventListener('mouseenter', showTooltip);
               element.addEventListener('mouseleave', hideTooltip);
           });
       }

       function showTooltip(e) {
           const tooltip = document.createElement('div');
           tooltip.className = 'tooltip';
           tooltip.textContent = e.target.getAttribute('data-tooltip');
           tooltip.style.cssText = `
               position: absolute;
               background: rgba(0,0,0,0.8);
               color: white;
               padding: 8px 12px;
               border-radius: 5px;
               font-size: 12px;
               z-index: 1000;
               pointer-events: none;
           `;
           document.body.appendChild(tooltip);
           
           const rect = e.target.getBoundingClientRect();
           tooltip.style.left = rect.left + 'px';
           tooltip.style.top = (rect.top - tooltip.offsetHeight - 10) + 'px';
       }

       function hideTooltip() {
           const tooltip = document.querySelector('.tooltip');
           if (tooltip) {
               tooltip.remove();
           }
       }

       // Keyboard navigation
       document.addEventListener('keydown', function(e) {
           switch(e.key) {
               case 'Escape':
                   closeModal();
                   const overlay = document.getElementById('contactOverlay');
                   if (overlay.style.display === 'block') {
                       toggleContactForm();
                   }
                   break;
               case 'Home':
                   if (e.ctrlKey) {
                       e.preventDefault();
                       showHome();
                   }
                   break;
               case 'f':
                   if (e.ctrlKey) {
                       e.preventDefault();
                       document.getElementById('searchBox').focus();
                   }
                   break;
           }
       });

       // Performance optimization - Lazy loading for images
       function lazyLoadImages() {
           const imageObserver = new IntersectionObserver((entries, observer) => {
               entries.forEach(entry => {
                   if (entry.isIntersecting) {
                       const img = entry.target;
                       img.src = img.dataset.src;
                       img.classList.remove('lazy');
                       observer.unobserve(img);
                   }
               });
           });

           document.querySelectorAll('img[data-src]').forEach(img => {
               imageObserver.observe(img);
           });
       }

       // Local storage for user preferences
       function saveUserPreferences() {
           const preferences = {
               view: currentView,
               lastVisited: Date.now()
           };
           // Note: localStorage not available in Claude artifacts
           // localStorage.setItem('meditech_preferences', JSON.stringify(preferences));
       }

       function loadUserPreferences() {
           // Note: localStorage not available in Claude artifacts
           // const saved = localStorage.getItem('meditech_preferences');
           // if (saved) {
           //     const preferences = JSON.parse(saved);
           //     setView(preferences.view);
           // }
       }

       // Error handling
       window.addEventListener('error', function(e) {
           console.error('Application error:', e.error);
           // In a real app, you might want to send this to a logging service
       });

       // Responsive design helpers
       function checkMobile() {
           return window.innerWidth <= 768;
       }

       function adaptToScreenSize() {
           const container = document.querySelector('.container');
           if (checkMobile()) {
               container.classList.add('mobile-view');
           } else {
               container.classList.remove('mobile-view');
           }
       }

       // Initialize everything when page loads
       document.addEventListener('DOMContentLoaded', function() {
           setupSearch();
           loadUserPreferences();
           initializeTooltips();
           adaptToScreenSize();
           
           // Animate counters when they come into view
           setTimeout(animateCounters, 1000);
           
           console.log('MediTech Solutions - Catalogue initialis√© avec succ√®s');
       });

       // Handle window resize
       window.addEventListener('resize', adaptToScreenSize);

       // Save preferences before page unload
       window.addEventListener('beforeunload', saveUserPreferences);

       // Export functions for global access
       window.MediTech = {
           showHome,
           showServices,
           showDevices,
           showDeviceDetails,
           showBrandDetails,
           showGallery,
           toggleContactForm,
           submitContactForm,
           setView,
           openModal,
           closeModal
       };
   </script>
</body>
</html>